# üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Intel Media SDK (libmfx) –∏ oneVPL + –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ä–µ–¥—ã

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –≤–∫–ª—é—á–∞–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É:

- Intel Media SDK (–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ —É—Å–∫–æ—Ä–µ–Ω–∏—è `libmfx`)
- OneVPL (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Intel Video Processing Library)
- –î—Ä–∞–π–≤–µ—Ä–æ–≤ VA-API
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

---

## üîÑ –®–∞–≥ 1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
sudo apt update
sudo apt install -y cmake build-essential pkg-config libva-dev libdrm-dev
```

---

## üíª –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥—Ä–∞–π–≤–µ—Ä–∞ Intel VAAPI (–ø—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω–æ–≥–æ)
```bash
sudo apt install -y intel-media-va-driver-non-free
```
–≠—Ç–æ—Ç –¥—Ä–∞–π–≤–µ—Ä –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Intel GPU –¥–ª—è –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ —É—Å–∫–æ—Ä–µ–Ω–∏—è –≤–∏–¥–µ–æ —á–µ—Ä–µ–∑ VAAPI.

## üì• –®–∞–≥ 3: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–±–æ—Ä–∫–∞ Intel Media SDK
```bash
git clone https://github.com/Intel-Media-SDK/MediaSDK.git
cd MediaSDK
mkdir build && cd build
cmake ..
make -j$(nproc)
sudo make install
```
–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ libmfx –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ /opt/intel/mediasdk.

## üì• –®–∞–≥ 4: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ oneVPL
```bash
git clone https://github.com/oneapi-src/oneVPL.git
cd oneVPL
mkdir build && cd build
cmake ..
make -j$(nproc)
sudo make install
```
OneVPL ‚Äî —ç—Ç–æ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ Intel Media SDK, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–µ–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (Xe, ARC –∏ –¥—Ä.). –ï–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å VAAPI –∏ –¥—Ä—É–≥–∏–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏.

## üîç –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ VAAPI
```bash
sudo apt install vainfo
vainfo
```
–ö–æ–º–∞–Ω–¥–∞ vainfo –≤—ã–≤–æ–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã—Ö —É—Å–∫–æ—Ä–µ–Ω–∏–π (VAAPI —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏ –∫–æ–¥–µ–∫–æ–≤).

## üìÅ –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è pkg-config —Ñ–∞–π–ª–æ–≤
```bash
ls /opt/intel/mediasdk/lib/pkgconfig/
```
–û–∂–∏–¥–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã:

```bash
libmfxhw64.pc

libmfx.pc

mfx.pc
```
## ‚öôÔ∏è –®–∞–≥ 7: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è PKG_CONFIG_PATH
–î–æ–±–∞–≤—å—Ç–µ –ø—É—Ç—å –∫ .pc-—Ñ–∞–π–ª–∞–º –≤ .bashrc:

```bash
vim ~/.bashrc
–î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É:
```
```bash
export PKG_CONFIG_PATH=/opt/intel/mediasdk/lib/pkgconfig/
```
–ü—Ä–∏–º–µ–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

```bash
source ~/.bashrc
```

## ‚úÖ –ì–æ—Ç–æ–≤–æ!
–¢–µ–ø–µ—Ä—å –∏ pkg-config, –∏ —Å–±–æ—Ä–æ—á–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã (CMake, Meson –∏ –¥—Ä.) —Å–º–æ–≥—É—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:
```bash
libmfx (Intel Media SDK)

oneVPL
```
–û–±–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –ø—Ä–∏–≥–æ–¥—è—Ç—Å—è –ø—Ä–∏ —Å–±–æ—Ä–∫–µ –∏ –∑–∞–ø—É—Å–∫–µ –º—É–ª—å—Ç–∏–º–µ–¥–∏–π–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–º —É—Å–∫–æ—Ä–µ–Ω–∏–µ–º (GStreamer, FFmpeg, OpenCV –∏ –¥—Ä.).