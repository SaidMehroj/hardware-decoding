# üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ CUDA Toolkit 12.2, cuDNN 8.9.5 –∏ Nvidia Video Codec SDK 11.1

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

- **CUDA Toolkit 12.2** ‚Äî –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å GPU –æ—Ç NVIDIA.
- **cuDNN 8.9.5** ‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –Ω–∞ GPU —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º CUDA.
- **Nvidia Video Codec SDK 11.1** ‚Äî –Ω–∞–±–æ—Ä –±–∏–±–ª–∏–æ—Ç–µ–∫ –¥–ª—è –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∏–¥–µ–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º GPU NVIDIA.

---

## üîÑ –®–∞–≥ 1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–ü–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π CUDA –∏ –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –æ–±–Ω–æ–≤–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
sudo apt update
sudo apt install -y build-essential pkg-config cmake libtool libc6 libc6-dev unzip wget
```

## üíª –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ CUDA Toolkit 12.2 (—á–µ—Ä–µ–∑ `.deb` –ø–∞–∫–µ—Ç)

### üîπ 2.1 –ó–∞–≥—Ä—É–∑–∫–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ pin-—Ñ–∞–π–ª–∞

–î–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –∑–∞–≥—Ä—É–∑–∏—Ç–µ pin-—Ñ–∞–π–ª:

```bash
wget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2204/x86_64/cuda-ubuntu2204.pin
```

–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –µ–≥–æ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π apt:

```bash
sudo mv cuda-ubuntu2204.pin /etc/apt/preferences.d/cuda-repository-pin-600
```

### üîπ 2.2 –ó–∞–≥—Ä—É–∑–∫–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ .deb –ø–∞–∫–µ—Ç–∞ CUDA Toolkit 12.2
–ó–∞–≥—Ä—É–∑–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–π .deb —Ñ–∞–π–ª:

```bash
wget https://developer.download.nvidia.com/compute/cuda/12.2.0/local_installers/cuda-repo-ubuntu2204-12-2-local_12.2.0-530.30.02-1_amd64.deb
```
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```bash
sudo dpkg -i cuda-repo-ubuntu2204-12-2-local_12.2.0-530.30.02-1_amd64.deb
```
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:

```bash
sudo cp /var/cuda-repo-ubuntu2204-12-2-local/cuda-*-keyring.gpg /usr/share/keyrings/
```

### üîπ 2.3 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ CUDA Toolkit
–û–±–Ω–æ–≤–∏—Ç–µ –∏–Ω–¥–µ–∫—Å –ø–∞–∫–µ—Ç–æ–≤:

```bash
sudo apt update
```
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ CUDA Toolkit 12.2:

```bash
sudo apt install -y cuda-toolkit-12-2
```
### üîπ 2.4 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
–î–æ–±–∞–≤—å—Ç–µ –≤ .bashrc –ø—É—Ç–∏ –∫ CUDA Toolkit:

```bash
echo 'export PATH=/usr/local/cuda-12.2/bin:$PATH' >> ~/.bashrc
echo 'export LD_LIBRARY_PATH=/usr/local/cuda-12.2/lib64:$LD_LIBRARY_PATH' >> ~/.bashrc
source ~/.bashrc
```
### üîπ 2.5 –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã
–ß—Ç–æ–±—ã –∑–∞–≤–µ—Ä—à–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É:

```bash
sudo reboot
```
### üîπ 2.6 –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ CUDA
–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é CUDA:

```bash
nvcc --version
```
–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–µ—Ä—Å–∏–∏ release 12.2.

## üß† –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ cuDNN 8.9.5
### üîπ 3.1 –°–∫–∞—á–∏–≤–∞–Ω–∏–µ cuDNN
–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å–∞–π—Ç NVIDIA cuDNN –∏ —Å–∫–∞—á–∞–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∞—Ä—Ö–∏–≤ –¥–ª—è –≤–µ—Ä—Å–∏–∏ CUDA 12.2 –∏ cuDNN 8.9.5.

### üîπ 3.2 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ cuDNN
–ü–æ—Å–ª–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∞—Ä—Ö–∏–≤–∞ —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ –µ–≥–æ –∏ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–∞—Ç–∞–ª–æ–≥–∏:

```bash
tar -xzvf cudnn-12.2-linux-x64-v8.9.5.0.tgz
sudo cp cuda/include/cudnn*.h /usr/local/cuda/include
sudo cp cuda/lib64/libcudnn* /usr/local/cuda/lib64
sudo chmod a+r /usr/local/cuda/include/cudnn*.h /usr/local/cuda/lib64/libcudnn*
```
### üîπ 3.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ cuDNN
–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:

```bash
dpkg -l | grep cudnn
```

## üé• –®–∞–≥ 4: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Nvidia Video Codec SDK 11.1

### üîπ 4.1 –°–∫–∞—á–∏–≤–∞–Ω–∏–µ Nvidia Video Codec SDK 11.1

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å–∞–π—Ç [NVIDIA Video Codec SDK](https://developer.nvidia.com/nvidia-video-codec-sdk) –∏ —Å–∫–∞—á–∞–π—Ç–µ –∞—Ä—Ö–∏–≤ SDK 11.1.

### üîπ 4.2 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ SDK

–†–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤ –∏ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤ –Ω—É–∂–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é:

```bash
tar -xvzf NVIDIA_Video_Codec_SDK_11.1.0_Linux.tar.gz
sudo mv NVIDIA_Video_Codec_SDK /usr/local/
```

### üîπ 4.3 –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –≤ –ø–∞–ø–∫—É CUDA
–î–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å CUDA, –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã –∏–∑ SDK –≤ –ø–∞–ø–∫—É CUDA. –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã CUDA —Å–º–æ–≥–ª–∞ –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏.

```bash
sudo cp /usr/local/NVIDIA_Video_Codec_SDK/include/* /usr/local/cuda/include/
```
### üîπ 4.4 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è Video Codec SDK
–î–æ–±–∞–≤—å—Ç–µ –ø—É—Ç—å –∫ SDK –≤ .bashrc:

```bash
echo 'export NV_CODEC_SDK=/usr/local/NVIDIA_Video_Codec_SDK' >> ~/.bashrc
source ~/.bashrc
```
### üîπ 4.5 –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, —á—Ç–æ SDK —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
ls $NV_CODEC_SDK
```
–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Å–ø–∏—Å–æ–∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –∏ —Ñ–∞–π–ª–æ–≤ SDK, –≤–∫–ª—é—á–∞—è –ø—Ä–∏–º–µ—Ä—ã –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.
